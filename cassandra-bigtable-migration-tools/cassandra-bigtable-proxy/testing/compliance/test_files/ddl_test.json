[
  {
    "title": "Create a table",
    "description": "basic table ddl commands",
    "kind": "dml",
    "operations": [
      {
        "query": "DROP TABLE IF EXISTS bigtabledevinstance.ddl_test",
        "query_type": "DDL",
        "expected_result": null
      },
      {
        "query": "CREATE TABLE bigtabledevinstance.ddl_test (id TEXT PRIMARY KEY, name TEXT)",
        "query_type": "DDL",
        "expected_result": null
      },
      {
        "query": "CREATE TABLE bigtabledevinstance.ddl_test (id TEXT PRIMARY KEY, name TEXT)",
        "query_type": "DDL",
        "query_desc": "creating a table that already exists should error",
        "expected_result": null
      },
      {
        "query": "CREATE TABLE IF NOT EXISTS bigtabledevinstance.%s (id TEXT PRIMARY KEY, name TEXT)",
        "query_type": "DDL",
        "query_desc": "'IF NOT EXISTS' should ignore already exists errors",
        "expected_result": null
      }
    ]
  },
  {
    "title": "Alter a table",
    "description": "basic table ddl commands",
    "kind": "dml",
    "operations": [
      {
        "query": "DROP TABLE IF EXISTS bigtabledevinstance.alter_test",
        "query_type": "DDL",
        "expected_result": null
      },
      {
        "query": "CREATE TABLE bigtabledevinstance.alter_test (id TEXT PRIMARY KEY, name TEXT)",
        "query_type": "DDL",
        "expected_result": null
      },
      {
        "query": "ALTER TABLE bigtabledevinstance.alter_test ADD age INT",
        "query_type": "DDL",
        "expected_result": null
      },
      {
        "query": "ALTER TABLE bigtabledevinstance.alter_test DROP age INT",
        "query_type": "DDL",
        "expected_result": null
      },
      {
        "query": "ALTER TABLE bigtabledevinstance.alter_test ADD weight FLOAT",
        "query_type": "DDL",
        "expected_result": null
      }
    ]
  },
  {
    "title": "counter column ddl",
    "description": "tests ddl operations around counter columns which is important because they're stored differently",
    "kind": "dml",
    "operations": [
      {
        "query": "DROP TABLE IF EXISTS bigtabledevinstance.counter_test",
        "query_type": "DDL",
        "expected_result": null
      },
      {
        "query": "CREATE TABLE bigtabledevinstance.counter_test (id TEXT PRIMARY KEY, name TEXT, friends counter)",
        "query_type": "DDL",
        "expected_result": null
      },
      {
        "query": "ALTER TABLE bigtabledevinstance.counter_test ADD api_usage counter",
        "query_type": "DDL",
        "query_desc": "add a counter column to a table that already has one",
        "expected_result": null
      }
    ]
  },
  {
    "title": "counter column ddl",
    "description": "add a counter to a table that doesn't have one yet",
    "kind": "dml",
    "operations": [
      {
        "query": "DROP TABLE IF EXISTS bigtabledevinstance.counter_test_2",
        "query_type": "DDL",
        "expected_result": null
      },
      {
        "query": "CREATE TABLE bigtabledevinstance.counter_test_2 (id TEXT PRIMARY KEY, name TEXT)",
        "query_type": "DDL",
        "expected_result": null
      },
      {
        "query": "ALTER TABLE bigtabledevinstance.counter_test_2 ADD api_usage counter",
        "query_type": "DDL",
        "query_desc": "add a counter column to a table that DOES NOT already have one",
        "expected_result": null
      }
    ]
  }
]